@model Flight

@using Microsoft.AspNetCore.Identity
@using GBC_Travel_Group_77.Areas.ProjectManagement.Models;

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{
    // Session service
    <h5>Details Public Session Visits: @ViewBag.publicsession</h5>

    var user = await UserManager.GetUserAsync(User);
    if (user != null)
    {
        var roles = await UserManager.GetRolesAsync(user);
        if (roles.Contains("Admin"))
        {
            // Session service
            <h5>Details Admin Session Visits: @ViewBag.adminsession</h5>
        }
    }
}

<h2 class="my-5">
    <em>@Model.company</em>
</h2>

<div class="row gx-5">
    <img alt="@Model.company" src="~/img/flights/flightImage.jpg" class="img-fluid col-5" />
    <div class="col-7">
        <h3>@Model.shortDescription</h3>
        <p>@Model.longDescription</p>
        <p>Departure: @Model.departureAirport, Gate @Model.departureGate, @Model.departureDate</p>
        <p>Arrival: @Model.arrivalAirport, Gate @Model.arrivalGate, @Model.arrivalDate</p>
        <p>Flight Duration: @Model.flightDuration</p>
        <p>Available Seats: @Model.availableSeats</p>
        <p>Flight Status: @Model.flightStatus</p>
        <h3 class="pull-right">@Model.price.ToString("$0.00")</h3>
    </div>
</div>